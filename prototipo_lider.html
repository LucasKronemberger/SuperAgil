<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperÁgil - App Liderança</title>
    <!-- Carrega o Tailwind CSS para estilização -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Fonte Inter (padrão do Tailwind) */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Classe auxiliar para esconder/mostrar telas */
        .hidden {
            display: none;
        }
        /* Cores personalizadas do SuperÁgil (baseado no logo) */
        .bg-superagil-orange { background-color: #f97316; } /* orange-600 */
        .text-superagil-orange { color: #f97316; }
        .border-superagil-orange { border-color: #f97316; }
        .bg-superagil-blue { background-color: #1e40af; } /* blue-800 */
        .text-superagil-blue { color: #1e40af; }

        /* Efeito de curva do login */
        .login-bg-orange {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 60%;
            background-color: #f97316; /* Laranja */
            z-index: 0;
        }
        .login-bg-blue {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-color: #1e40af; /* Azul */
            clip-path: ellipse(120% 60% at 50% 0%);
            z-index: 1;
        }
        .login-content {
            position: relative;
            z-index: 10;
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- 
      ==================================================================
      TELA DE LOGIN (View 1)
      ==================================================================
    -->
    <div id="login-view" class="relative min-h-screen overflow-hidden">
        <!-- Fundos curvados -->
        <div class="login-bg-orange"></div>
        <div class="login-bg-blue"></div>
        
        <!-- Conteúdo do Login -->
        <div class="login-content min-h-screen flex flex-col items-center justify-center p-4">
            
            <h1 class="text-6xl font-bold text-white mb-12">SuperÁgil</h1>

            <div class="w-full max-w-md bg-white rounded-2xl shadow-xl p-8">
                <h2 class="text-3xl font-bold text-gray-800 text-center mb-6">Login</h2>
                
                <form onsubmit="event.preventDefault(); login()">
                    <div class="mb-4">
                        <label for="email" class="block text-sm font-medium text-gray-600 mb-2">E-mail</label>
                        <input type="email" id="email" value="lider@superagil.com" class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-superagil-orange" placeholder="seuemail@gmail.com" required>
                    </div>
                    
                    <div class="mb-4">
                        <label for="password" class="block text-sm font-medium text-gray-600 mb-2">Senha</label>
                        <input type="password" id="password" value="123456" class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-superagil-orange" placeholder="**************" required>
                    </div>

                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center">
                            <input id="remember" type="checkbox" class="h-4 w-4 text-superagil-orange rounded border-gray-300 focus:ring-superagil-orange">
                            <label for="remember" class="ml-2 block text-sm text-gray-700">Salvar login</label>
                        </div>
                    </div>

                    <!-- CAPTCHA Visual (Não-Funcional) -->
                    <div class="bg-gray-100 border border-gray-300 rounded-lg p-3 flex items-center justify-between mb-6">
                        <div class="flex items-center">
                            <input type="checkbox" checked class="h-6 w-6 rounded border-gray-400">
                            <span class="ml-3 text-sm text-gray-700">Eu não sou um robô</span>
                        </div>
                        <img src="https://www.gstatic.com/recaptcha/api2/logo_48.png" alt="reCAPTCHA" class="h-8">
                    </div>

                    <button type="submit" class="w-full bg-superagil-orange text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-opacity-90 transition-all duration-300">
                        Entrar
                    </button>
                    
                    <p class="text-center text-sm text-gray-600 mt-6">
                        Ainda não tem uma conta? 
                        <a href="#" class="font-medium text-superagil-orange hover:underline">Cadastre-se</a>
                    </p>
                </form>
            </div>
        </div>
    </div>

    <!-- 
      ==================================================================
      APP LIDERANÇA (View 2)
      Container principal do app pós-login
      ==================================================================
    -->
    <div id="app-view" class="hidden min-h-screen bg-gray-100">
        
        <!-- HEADER (Cabeçalho) -->
        <header class="bg-superagil-blue text-white shadow-lg sticky top-0 z-50">
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <h1 class="text-2xl font-bold">SuperÁgil</h1>
                <nav class="flex items-center space-x-2">
                    <!-- BOTÃO GERENCIAR PO (NOVO) -->
                    <button onclick="showView('gerenciar-po')" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-blue-700 transition-colors">
                        <span class="font-medium hidden md:block">Gerenciar POs</span>
                        <!-- Ícone de Gerenciar Usuários (SVG Inline) -->
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path></svg>
                    </button>
                    <!-- BOTÃO VER PERFIL -->
                    <button onclick="showView('perfil')" class="flex items-center space-x-2 p-2 rounded-lg hover:bg-blue-700 transition-colors">
                        <span class="font-medium hidden md:block">Ver Perfil</span>
                        <!-- Ícone de Perfil (SVG Inline) -->
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                    </button>
                </nav>
            </div>
        </header>

        <!-- Área de Conteúdo Principal -->
        <main id="main-content" class="container mx-auto p-4 md:p-8">

            <!-- 
              ----------------------------------------------------
              CONTEÚDO: DASHBOARD DE PROJETOS (Tela 2a)
              (Requisito 1.4)
              ----------------------------------------------------
            -->
            <div id="dashboard-content" class="app-content">
                <div class="flex flex-col md:flex-row justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 md:mb-0">Meus Projetos</h2>
                    <button onclick="showView('criar-projeto')" class="w-full md:w-auto bg-superagil-orange text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-opacity-90 transition-all flex items-center justify-center space-x-2">
                        <!-- Ícone de + (SVG Inline) -->
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                        <span>Criar Novo Projeto</span>
                    </button>
                </div>

                <!-- Lista de Projetos -->
                <div id="project-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Projetos serão injetados aqui pelo JavaScript -->
                </div>
            </div>

            <!-- 
              ----------------------------------------------------
              CONTEÚDO: CRIAR PROJETO (Tela 2b)
              (Requisito 1.3)
              ----------------------------------------------------
            -->
            <div id="criar-projeto-content" class="app-content hidden">
                <button onclick="showView('dashboard')" class="text-superagil-orange font-medium mb-4 flex items-center space-x-1">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    <span>Voltar ao Dashboard</span>
                </button>
                
                <div class="bg-white p-8 rounded-2xl shadow-xl max-w-3xl mx-auto">
                    <h2 class="text-3xl font-bold text-gray-800 mb-8">Criar Novo Projeto</h2>
                    <form onsubmit="event.preventDefault(); alert('Projeto Criado! (simulação)')">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Nome do Projeto -->
                            <div class="md:col-span-2">
                                <label for="proj-nome" class="block text-sm font-medium text-gray-700 mb-2">Nome do Projeto</label>
                                <input type="text" id="proj-nome" class="w-full p-3 border border-gray-300 rounded-lg" required>
                            </div>
                            <!-- Descrição -->
                            <div class="md:col-span-2">
                                <label for="proj-desc" class="block text-sm font-medium text-gray-700 mb-2">Descrição</label>
                                <textarea id="proj-desc" rows="4" class="w-full p-3 border border-gray-300 rounded-lg"></textarea>
                            </div>
                            <!-- Competências -->
                            <div>
                                <label for="proj-comp" class="block text-sm font-medium text-gray-700 mb-2">Competências</label>
                                <input type="text" id="proj-comp" placeholder="Ex: Gestão Ágil, Scrum" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <!-- Habilidades Técnicas -->
                            <div>
                                <label for="proj-hab" class="block text-sm font-medium text-gray-700 mb-2">Habilidades Técnicas</label>
                                <input type="text" id="proj-hab" placeholder="Ex: React, Node.js" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                            <!-- Tamanho das Equipes -->
                            <div>
                                <label for="proj-tam" class="block text-sm font-medium text-gray-700 mb-2">Tamanho das Equipes (3-7)</label>
                                <input type="range" id="proj-tam" min="3" max="7" value="5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            </div>
                            <!-- Quantidade de Equipes -->
                            <div>
                                <label for="proj-qtd" class="block text-sm font-medium text-gray-700 mb-2">Quantidade de Equipes (1-100)</label>
                                <input type="number" id="proj-qtd" value="1" min="1" max="100" class="w-full p-3 border border-gray-300 rounded-lg">
                            </div>
                        </div>
                        <div class="mt-8 text-right">
                            <button type="submit" class="bg-superagil-orange text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-opacity-90 transition-all">
                                Salvar Projeto
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- 
              ----------------------------------------------------
              CONTEÚDO: DETALHE DO PROJETO / EQUIPES (Tela 2c)
              (Requisito 1.5)
              ----------------------------------------------------
            -->
            <div id="detalhe-projeto-content" class="app-content hidden">
                <button onclick="showView('dashboard')" class="text-superagil-orange font-medium mb-4 flex items-center space-x-1">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    <span>Voltar ao Dashboard</span>
                </button>

                <!-- Cabeçalho do Projeto -->
                <div class="bg-white p-6 rounded-2xl shadow-xl mb-8">
                    <h2 id="detalhe-proj-nome" class="text-3xl font-bold text-gray-800"></h2>
                    <p id="detalhe-proj-desc" class="text-gray-600 mt-2"></p>
                </div>

                <!-- Lista de Equipes -->
                <h3 class="text-2xl font-bold text-gray-800 mb-6">Equipes do Projeto</h3>
                <div id="detalhe-equipes-lista" class="space-y-6">
                    <!-- Equipes serão injetadas aqui -->
                </div>
            </div>

            <!-- 
              ----------------------------------------------------
              CONTEÚDO: EDITAR EQUIPE (Tela 2d - NOVA)
              (Requisito 1.5)
              ----------------------------------------------------
            -->
            <div id="editar-equipe-content" class="app-content hidden">
                <button onclick="showView('detalhe-projeto', currentProjectId)" class="text-superagil-orange font-medium mb-4 flex items-center space-x-1">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    <span>Voltar ao Projeto</span>
                </button>

                <div class="bg-white p-8 rounded-2xl shadow-xl max-w-4xl mx-auto">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Editando Equipe:</h2>
                    <h3 id="editar-equipe-nome" class="text-2xl text-superagil-blue font-semibold mb-8"></h3>
                
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Membros Atuais -->
                        <div>
                            <h4 class="text-xl font-bold text-gray-700 mb-4">Membros Atuais</h4>
                            <div id="current-members-list" class="space-y-3">
                                <!-- Membros atuais são injetados aqui -->
                            </div>
                        </div>

                        <!-- Colaboradores Disponíveis -->
                        <div>
                            <h4 class="text-xl font-bold text-gray-700 mb-4">Colaboradores Disponíveis</h4>
                            <div id="available-members-list" class="space-y-3">
                                <!-- Membros disponíveis são injetados aqui -->
                            </div>
                        </div>
                    </div>

                    <div class="mt-10 text-right">
                        <button onclick="showView('detalhe-projeto', currentProjectId)" class="bg-superagil-orange text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-opacity-90 transition-all">
                            Salvar Alterações
                        </button>
                    </div>
                </div>

            </div>

            <!-- 
              ----------------------------------------------------
              CONTEÚDO: PERFIL DO LÍDER (Tela 2e)
              (Requisito 1.1)
              ----------------------------------------------------
            -->
            <div id="perfil-content" class="app-content hidden">
                 <button onclick="showView('dashboard')" class="text-superagil-orange font-medium mb-4 flex items-center space-x-1">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    <span>Voltar ao Dashboard</span>
                </button>

                <div class="bg-white p-8 rounded-2xl shadow-xl max-w-3xl mx-auto">
                    <div class="flex flex-col md:flex-row items-center md:items-start space-y-6 md:space-y-0 md:space-x-8">
                        <img src="https://placehold.co/150x150/f97316/white?text=L" alt="Foto do Perfil" class="w-36 h-36 rounded-full shadow-md border-4 border-white">
                        <div class="flex-1 text-center md:text-left">
                            <h2 class="text-3xl font-bold text-gray-800">Nome do Líder</h2>
                            <p class="text-lg text-superagil-orange">Product Owner</p>
                            <p class="text-gray-600 mt-2">lider@superagil.com | (11) 99999-8888</p>
                        </div>
                    </div>

                    <hr class="my-8">

                    <div>
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Minhas Habilidades e Funções</h3>
                        <!-- HABILIDADES SCRUM (AGORA EDITÁVEL) -->
                        <div id="scrum-skills-list" class="flex flex-wrap gap-2 mb-4">
                            <!-- Skills injetadas -->
                        </div>
                        <form onsubmit="event.preventDefault(); addSkill('scrum')" class="flex gap-4 mb-6">
                            <input type="text" id="new-scrum-skill" placeholder="Adicionar experiência Scrum" class="flex-1 p-3 border border-gray-300 rounded-lg">
                            <button type="submit" class="bg-superagil-blue text-white font-medium py-3 px-5 rounded-lg hover:bg-opacity-90">Adicionar</button>
                        </form>

                        <!-- HABILIDADES TÉCNICAS (AGORA EDITÁVEL) -->
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Habilidades Técnicas</h3>
                        <div id="tech-skills-list" class="flex flex-wrap gap-2 mb-4">
                           <!-- Skills injetadas -->
                        </div>
                         <form onsubmit="event.preventDefault(); addSkill('tech')" class="flex gap-4">
                            <input type="text" id="new-tech-skill" placeholder="Adicionar habilidade técnica" class="flex-1 p-3 border border-gray-300 rounded-lg">
                            <button type="submit" class="bg-superagil-blue text-white font-medium py-3 px-5 rounded-lg hover:bg-opacity-90">Adicionar</button>
                        </form>
                    </div>

                    <hr class="my-8">

                    <div>
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Meus Projetos</h3>
                        <ul class="space-y-2">
                            <li class="text-gray-700">Projeto Super Vendas (XYZ)</li>
                            <li class="text-gray-700">Iniciativa Gen AI</li>
                        </ul>
                    </div>

                    <!-- BOTÃO SALVAR -->
                    <div class="mt-10 text-right">
                        <button onclick="alert('Perfil Salvo! (simulação)')" class="bg-superagil-orange text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-opacity-90 transition-all">
                            Salvar Alterações
                        </button>
                    </div>

                </div>
            </div>
            
            <!-- 
              ----------------------------------------------------
              CONTEÚDO: GERENCIAR PO EXTERNO (Tela 2f)
              (Requisito 1.2)
              ----------------------------------------------------
            -->
            <div id="gerenciar-po-content" class="app-content hidden">
                 <button onclick="showView('dashboard')" class="text-superagil-orange font-medium mb-4 flex items-center space-x-1">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    <span>Voltar ao Dashboard</span>
                </button>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Formulário de Criação -->
                    <div class="bg-white p-8 rounded-2xl shadow-xl">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6">Cadastrar Novo PO Externo</h2>
                        <form onsubmit="event.preventDefault(); alert('PO Externo Criado! (simulação)')">
                            <div class="space-y-4">
                                <div>
                                    <label for="po-nome" class="block text-sm font-medium text-gray-700 mb-2">Nome Completo</label>
                                    <input type="text" id="po-nome" class="w-full p-3 border border-gray-300 rounded-lg" required>
                                </div>
                                <div>
                                    <label for="po-email" class="block text-sm font-medium text-gray-700 mb-2">E-mail (Será o login)</label>
                                    <input type="email" id="po-email" class="w-full p-3 border border-gray-300 rounded-lg" required>
                                </div>
                                <div>
                                    <label for="po-senha" class="block text-sm font-medium text-gray-700 mb-2">Criar Senha Temporária</label>
                                    <input type="password" id="po-senha" class="w-full p-3 border border-gray-300 rounded-lg" required>
                                </div>
                                <div>
                                    <label for="po-projeto" class="block text-sm font-medium text-gray-700 mb-2">Atribuir ao Projeto (Visão Restrita)</label>
                                    <select id="po-projeto" class="w-full p-3 border border-gray-300 rounded-lg bg-white">
                                        <!-- Opções de projeto injetadas pelo JS -->
                                    </select>
                                </div>
                                <div class="pt-4">
                                    <button type="submit" class="w-full bg-superagil-orange text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-opacity-90 transition-all">
                                        Criar e Convidar PO
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- Lista de POs Ativos -->
                    <div class="bg-white p-8 rounded-2xl shadow-xl">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6">POs Externos Ativos</h2>
                        <div id="po-list" class="space-y-4">
                            <!-- Lista de POs injetada pelo JS -->
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- 
      ==================================================================
      SCRIPT DE INTERATIVIDADE (JavaScript)
      ==================================================================
    -->
    <script>
        // Variavel global para guardar o ID do projeto atual (para navegação de volta)
        let currentProjectId = null;
        let currentEditingTeam = null; // Guarda { projId, equipeNome }

        // Dados Mockados (Simulando um banco de dados)
        const mockData = {
            colaboradores: [ // DADOS MOCKADOS (NOVOS)
                { id: 'ana', nome: 'Ana Silva', funcao: 'Frontend Dev', emEquipe: true },
                { id: 'bruno', nome: 'Bruno Costa', funcao: 'Backend Dev', emEquipe: true },
                { id: 'carla', nome: 'Carla Dias', funcao: 'UX Designer', emEquipe: true },
                { id: 'daniel', nome: 'Daniel Moreira', funcao: 'Frontend Dev', emEquipe: true },
                { id: 'elias', nome: 'Elias Faria', funcao: 'QA Tester', emEquipe: true },
                { id: 'fernanda', nome: 'Fernanda Lima', funcao: 'Backend Dev', emEquipe: true },
                { id: 'gustavo', nome: 'Gustavo Alves', funcao: 'Backend Dev', emEquipe: true },
                { id: 'helena', nome: 'Helena Borges', funcao: 'DevOps', emEquipe: true },
                { id: 'igor', nome: 'Igor Matos', funcao: 'Data Scientist', emEquipe: true },
                { id: 'julia', nome: 'Julia Ribeiro', funcao: 'Scrum Master', emEquipe: true },
                { id: 'leo', nome: 'Leo Santos', funcao: 'Data Scientist', emEquipe: true },
                { id: 'maria', nome: 'Maria Oliveira', funcao: 'Product Owner', emEquipe: true },
                { id: 'nilce', nome: 'Nilce Pereira', funcao: 'Data Engineer', emEquipe: true },
                { id: 'otavio', nome: 'Otavio Campos', funcao: 'Frontend Dev', emEquipe: true },
                { id: 'paula', nome: 'Paula Andrade', funcao: 'QA Tester', emEquipe: true },
                // Disponíveis
                { id: 'rafael', nome: 'Rafael Gomes', funcao: 'Backend Dev', emEquipe: false },
                { id: 'simone', nome: 'Simone Barros', funcao: 'UX Designer', emEquipe: false },
                { id: 'tiago', nome: 'Tiago Ventura', funcao: 'Fullstack Dev', emEquipe: false },
            ],
            projetos: [
                {
                    id: 'xyz',
                    nome: 'Projeto Super Vendas (XYZ)',
                    descricao: 'Uma nova plataforma de vendas B2B para revolucionar o mercado.',
                    habilidades: ['Prog. Front-end', 'Back-end', 'UX/UI Designer'],
                    totalEquipes: 2,
                    totalIntegrantes: 10,
                    equipes: [
                        { 
                            nome: 'Equipe Alfa (Frontend)', 
                            membros: ['ana', 'bruno', 'carla', 'daniel', 'elias'] // Usando IDs
                        },
                        { 
                            nome: 'Equipe Beta (Backend)', 
                            membros: ['fernanda', 'gustavo', 'helena', 'igor', 'julia'] // Usando IDs
                        },
                    ]
                },
                {
                    id: 'gen-ai',
                    nome: 'Iniciativa Gen AI',
                    descricao: 'Implementação de IA Generativa para atendimento ao cliente.',
                    habilidades: ['Data Science', 'Python', 'DevOps'],
                    totalEquipes: 1,
                    totalIntegrantes: 5,
                    equipes: [
                        { 
                            nome: 'Equipe IA', 
                            membros: ['leo', 'maria', 'nilce', 'otavio', 'paula'] // Usando IDs
                        }
                    ]
                }
            ],
            perfil: {
                nome: 'Carlos Mendes',
                email: 'carlos.mendes@superagil.com',
                funcao: 'Product Owner',
                // DADOS ADICIONADOS
                scrumSkills: [
                    { nome: 'Product Owner', principal: true },
                    { nome: 'Gestão de Projetos', principal: false },
                ],
                techSkills: [
                    { nome: 'JavaScript', principal: false },
                    { nome: 'Design Thinking', principal: false },
                ]
            },
            // DADOS MOCKADOS (NOVOS)
            mockPOs: [
                { id: 1, nome: 'João Silva (Externo)', email: 'joao.po@cliente.com', projeto: 'Projeto Super Vendas (XYZ)'}
            ]
        };

        // Função de Login
        function login() {
            document.getElementById('login-view').classList.add('hidden');
            document.getElementById('app-view').classList.remove('hidden');
            showView('dashboard');
        }

        // Função central de navegação
        function showView(viewId, data = null) {
            // Esconde todas as "telas" de conteúdo
            document.querySelectorAll('.app-content').forEach(el => el.classList.add('hidden'));

            // Mostra a tela solicitada
            const viewElement = document.getElementById(`${viewId}-content`);
            if (viewElement) {
                viewElement.classList.remove('hidden');
            } else {
                console.error(`View "${viewId}-content" não encontrada!`);
                document.getElementById('dashboard-content').classList.remove('hidden'); // Volta pro dashboard
            }

            // Scroll para o topo
            window.scrollTo(0, 0);

            // Se for uma view que precisa de dados, renderiza
            if (viewId === 'dashboard') {
                renderDashboard();
            }
            if (viewId === 'detalhe-projeto' && data) {
                renderDetalheProjeto(data);
            }
            if (viewId === 'perfil') {
                // AGORA CHAMA A FUNÇÃO
                renderPerfil();
            }
            // NOVO RENDER
            if (viewId === 'gerenciar-po') {
                renderGerenciarPO();
            }
            // NOVO RENDER (EDITAR EQUIPE)
            if (viewId === 'editar-equipe' && data) {
                currentEditingTeam = data; // Salva os dados da equipe sendo editada
                renderEditarEquipe(data);
            }
        }

        // Renderiza o Dashboard (Requisito 1.4)
        function renderDashboard() {
            const projectList = document.getElementById('project-list');
            projectList.innerHTML = ''; // Limpa a lista

            mockData.projetos.forEach(proj => {
                const card = `
                    <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300">
                        <h3 class="text-xl font-bold text-superagil-blue">${proj.nome}</h3>
                        <p class="text-gray-600 text-sm h-10 my-2">${proj.descricao.substring(0, 70)}...</p>
                        
                        <div class="my-4">
                            <span class="text-xs font-medium text-gray-700">Habilidades:</span>
                            <div class="flex flex-wrap gap-2 mt-1">
                                ${proj.habilidades.map(hab => `<span class="bg-gray-100 text-gray-700 text-xs font-medium px-2 py-1 rounded-full">${hab}</span>`).join('')}
                            </div>
                        </div>

                        <div class="flex justify-between items-center text-sm font-medium text-gray-700 border-t pt-4 mt-4">
                            <span>${proj.totalEquipes} Equipes</span>
                            <span>${proj.totalIntegrantes} Integrantes</span>
                        </div>

                        <button onclick="showView('detalhe-projeto', '${proj.id}')" class="w-full mt-4 bg-white border border-superagil-orange text-superagil-orange font-bold py-2 px-4 rounded-lg hover:bg-superagil-orange hover:text-white transition-all">
                            Ver Detalhes
                        </button>
                    </div>
                `;
                projectList.innerHTML += card;
            });
        }

        // Renderiza o Detalhe do Projeto (Requisito 1.5)
        function renderDetalheProjeto(projectId) {
            const projeto = mockData.projetos.find(p => p.id === projectId);
            if (!projeto) {
                alert('Projeto não encontrado!');
                showView('dashboard');
                return;
            }
            // Salva o ID do projeto atual para o botão "Voltar"
            currentProjectId = projectId; 

            // Preenche cabeçalho
            document.getElementById('detalhe-proj-nome').textContent = projeto.nome;
            document.getElementById('detalhe-proj-desc').textContent = projeto.descricao;

            // Preenche equipes
            const equipesLista = document.getElementById('detalhe-equipes-lista');
            equipesLista.innerHTML = ''; // Limpa

            projeto.equipes.forEach(equipe => {
                const equipeCard = `
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <div class="flex justify-between items-center mb-4">
                            <h4 class="text-xl font-bold text-superagil-blue">${equipe.nome}</h4>
                            <button onclick="showView('editar-equipe', { projId: '${projeto.id}', equipeNome: \`${equipe.nome}\` })" class="text-sm bg-blue-100 text-blue-700 font-medium py-1 px-3 rounded-full hover:bg-blue-200 flex items-center space-x-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"></path></svg>
                                <span>Editar</span>
                            </button>
                        </div>
                        <div class="flex flex-wrap gap-4">
                            ${equipe.membros.map(membroId => {
                                const membro = mockData.colaboradores.find(c => c.id === membroId);
                                if (!membro) return '';
                                return `
                                <div class="flex items-center space-x-2">
                                    <img src="https://placehold.co/40x40/eee/333?text=${membro.nome[0]}" alt="${membro.nome}" class="w-10 h-10 rounded-full">
                                    <div>
                                        <p class="font-medium text-gray-800">${membro.nome}</p>
                                        <p class="text-xs text-gray-500">${membro.funcao || 'Colaborador'}</p>
                                    </div>
                                </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
                equipesLista.innerHTML += equipeCard;
            });
        }

        // NOVA FUNÇÃO - Renderiza a tela de Editar Equipe
        function renderEditarEquipe(data) { // data = { projId, equipeNome }
            const { projId, equipeNome } = data;
            const projeto = mockData.projetos.find(p => p.id === projId);
            if (!projeto) return;
            const equipe = projeto.equipes.find(e => e.nome === equipeNome);
            if (!equipe) return;

            document.getElementById('editar-equipe-nome').textContent = equipe.nome;

            const currentList = document.getElementById('current-members-list');
            const availableList = document.getElementById('available-members-list');
            currentList.innerHTML = '';
            availableList.innerHTML = '';

            // Renderiza Membros Atuais
            equipe.membros.forEach(membroId => {
                const membro = mockData.colaboradores.find(c => c.id === membroId);
                if (!membro) return; // Segurança
                currentList.innerHTML += `
                    <div class="border rounded-lg p-3 flex justify-between items-center">
                        <div>
                            <p class="font-bold text-gray-800">${membro.nome}</p>
                            <p class="text-sm text-gray-600">${membro.funcao}</p>
                        </div>
                        <button onclick="removerMembro('${membro.id}')" class="text-red-500 hover:text-red-700 font-medium">
                            Remover
                        </button>
                    </div>
                `;
            });

            // Renderiza Membros Disponíveis
            const disponiveis = mockData.colaboradores.filter(c => !c.emEquipe);
            disponiveis.forEach(membro => {
                 availableList.innerHTML += `
                    <div class="border rounded-lg p-3 flex justify-between items-center">
                        <div>
                            <p class="font-bold text-gray-800">${membro.nome}</p>
                            <p class="text-sm text-gray-600">${membro.funcao}</p>
                        </div>
                        <button onclick="adicionarMembro('${membro.id}')" class="text-green-500 hover:text-green-700 font-medium">
                            Adicionar
                        </button>
                    </div>
                `;
            });
             if (disponiveis.length === 0) {
                availableList.innerHTML = '<p class="text-gray-500 text-center">Nenhum colaborador disponível.</p>';
            }
        }

        // NOVA FUNÇÃO - Simula Adicionar Membro
        function adicionarMembro(membroId) {
            const { projId, equipeNome } = currentEditingTeam;
            // Acha o colaborador
            const membro = mockData.colaboradores.find(c => c.id === membroId);
            if (!membro) return;

            // Acha a equipe
            const projeto = mockData.projetos.find(p => p.id === projId);
            const equipe = projeto.equipes.find(e => e.nome === equipeNome);

            // Adiciona na equipe e marca como "emEquipe"
            equipe.membros.push(membro.id);
            membro.emEquipe = true;

            // Re-renderiza a tela de edição
            renderEditarEquipe(currentEditingTeam);
        }

        // NOVA FUNÇÃO - Simula Remover Membro
        function removerMembro(membroId) {
            const { projId, equipeNome } = currentEditingTeam;
            // Acha o colaborador
            const membro = mockData.colaboradores.find(c => c.id === membroId);
            if (!membro) return;

            // Acha a equipe
            const projeto = mockData.projetos.find(p => p.id === projId);
            const equipe = projeto.equipes.find(e => e.nome === equipeNome);

            // Remove da equipe e marca como "disponível"
            equipe.membros = equipe.membros.filter(id => id !== membro.id);
            membro.emEquipe = false;

            // Re-renderiza a tela de edição
            renderEditarEquipe(currentEditingTeam);
        }


        // NOVA FUNÇÃO - Renderiza a tela de Gerenciar PO
        function renderGerenciarPO() {
            // Popula o <select> de projetos
            const projectSelect = document.getElementById('po-projeto');
            projectSelect.innerHTML = '<option value="" disabled selected>Selecione um projeto</option>';
            mockData.projetos.forEach(proj => {
                projectSelect.innerHTML += `<option value="${proj.id}">${proj.nome}</option>`;
            });

            // Popula a lista de POs ativos
            const poList = document.getElementById('po-list');
            poList.innerHTML = '';
            mockData.mockPOs.forEach(po => {
                poList.innerHTML += `
                    <div class="border rounded-lg p-4 flex justify-between items-center">
                        <div>
                            <p class="font-bold text-gray-800">${po.nome}</p>
                            <p class="text-sm text-gray-600">${po.email}</p>
                            <p class="text-xs text-superagil-blue font-medium mt-1">Projeto: ${po.projeto}</p>
                        </div>
                        <button class="text-red-500 hover:text-red-700 font-medium">
                            Remover
                        </button>
                    </div>
                `;
            });
            if (mockData.mockPOs.length === 0) {
                poList.innerHTML = '<p class="text-gray-500 text-center">Nenhum PO externo cadastrado.</p>';
            }
        }

        // 
        // =============================================================
        // FUNÇÕES DE EDIÇÃO DE PERFIL (ADICIONADAS)
        // =============================================================
        // 

        // Renderiza o Perfil Editável (Req 2.3)
        function renderPerfil() {
            // Renderiza Habilidades Scrum
            const scrumList = document.getElementById('scrum-skills-list');
            scrumList.innerHTML = '';
            mockData.perfil.scrumSkills.forEach(skill => {
                scrumList.innerHTML += `
                    <span class="bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1.5 rounded-full flex items-center">
                        ${skill.nome}
                        ${skill.principal ? '<span class="ml-2 text-xs bg-blue-600 text-white px-2 py-0.5 rounded-full">Principal</span>' : ''}
                        <button class="ml-2 text-blue-600 hover:text-blue-800">&times;</button>
                    </span>
                `;
            });

            // Renderiza Habilidades Técnicas
            const techList = document.getElementById('tech-skills-list');
            techList.innerHTML = '';
            mockData.perfil.techSkills.forEach(skill => {
                techList.innerHTML += `
                    <span class="bg-gray-100 text-gray-800 text-sm font-medium px-3 py-1.5 rounded-full flex items-center">
                        ${skill.nome}
                        ${skill.principal ? '<span class="ml-2 text-xs bg-gray-600 text-white px-2 py-0.5 rounded-full">Principal</span>' : ''}
                        <button class="ml-2 text-gray-600 hover:text-gray-800">&times;</button>
                    </span>
                `;
            });
        }

        // Adiciona uma nova skill (simulação)
        function addSkill(type) {
            if (type === 'scrum') {
                const input = document.getElementById('new-scrum-skill');
                if (input.value) {
                    mockData.perfil.scrumSkills.push({ nome: input.value, principal: false });
                    input.value = '';
                    renderPerfil(); // Re-renderiza a lista
                }
            } else if (type === 'tech') {
                const input = document.getElementById('new-tech-skill');
                 if (input.value) {
                    mockData.perfil.techSkills.push({ nome: input.value, principal: false });
                    input.value = '';
                    renderPerfil(); // Re-renderiza a lista
                }
            }
        }

    </script>

</body>
</html>